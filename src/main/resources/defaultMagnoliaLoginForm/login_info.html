<!DOCTYPE HTML>

<html>
<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta charset="utf-8" />
  <title>Magnolia 5</title>
  <meta name="description" content="" />
  <meta name="author" content="Magnolia International AG" />

  <meta name="viewport" content="user-scalable=1.0,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="format-detection" content="telephone=no">

  <meta http-equiv="cache-control" content="no-cache"/>
  <meta http-equiv="pragma" content="no-cache"/>
  <meta name="ctxPath" content="${contextPath}"/>

  <link rel="stylesheet" type="text/css" media="screen" href="${contextPath}/.resources/defaultMagnoliaLoginForm/css/reset.css" />
  <link rel="stylesheet" type="text/css" media="screen" href="${contextPath}/.resources/defaultMagnoliaLoginForm/css/login.css" />
  <link rel="stylesheet" type="text/css" href="${contextPath}/.resources/defaultMagnoliaLoginForm/css/fonts.css" />

  <link rel="shortcut icon" type="image/ico" href="${contextPath}/.resources/defaultMagnoliaLoginForm/img/favicon.ico" />

</head>
<body>
[#assign loginSummary = infofn.loginSummary!""]
[#assign loginDetail = infofn.loginDetail!""]
[#if loginSummary != "" || loginDetail != ""]
<div id="logininfo">
  <h3>${loginSummary}</h3>
  <h4>${loginDetail}</h4>
</div>
<style>
	#logininfo {
	    width: 100%;
	    margin: 0 auto;
	    padding: 10px 35px;
	    top: 0px;
	    min-height: 35px;
	    background-color: #128754;
	}
	
	#logininfo h3, 
	#logininfo h4 {
		color: white;
	}
	
	#logininfo h3 {
		font-size: 14px;
	}
	
	#logininfo h4 {
		font-size: 12px;
	}
</style>
[/#if]
  
<div id="content" style="top: 60px;">

  
  
  <div id="login" class="login-panel" style="display: block; opacity: 1; -webkit-transition: all 0s cubic-bezier(0.25, 0.1, 0.25, 1);" >
      <div class="header">
        <div class="tag-line">
        </div>
      </div>
          
      <form id="loginForm" action="" method="post" class="mgnl-form">
          <div id="login-divet" class="divet"></div>
          <div style="height:28px;"></div>
          <label for="login-username">user name</label>
          <input type="text" value="" id="login-username" name="mgnlUserId" tabindex="1"[#if loginError] class ="error"[/#if] autofocus autocorrect="off" autocapitalize="off">
          <br class="float-clear"/>
          <label for="login-password">password</label>
          <input type="password" id="login-password" value="" name="mgnlUserPSWD" tabindex="2"[#if loginError] class ="error"[/#if]><br class="float-clear"/>
          <div>
            <button class="btn-submit" id="login-button" style="float:right;" tabindex="3">login</button>
          </div>
          <br class="float-clear" />
      </form>
      [#if loginError]
      <div id="error-divet" class="divet"></div>
      <div id="error-message">
        <div class="icon-error"><img src="${contextPath}/.resources/defaultMagnoliaLoginForm/img/icon-error-white.png"/></div>
        <span>${errorString!}</span>
      </div>
      [/#if]

  </div>
  <div id="footer">
        [#if serviceContact?exists]
        ${serviceContact?html}
        <br/>
        [/#if]
        Magnolia is a registered trademark of Magnolia International Ltd.
        <br/>
         &copy; Copyright 2003-${.now?string['yyyy']}
        <a href="http://www.magnolia-cms.com" id="externallink" target="_blank">Magnolia International Ltd.</a>
      </div>
  <script type="text/javascript">
  document.ontouchmove = function(e){ e.preventDefault(); }
  var username = document.getElementById('login-username')
  var password = document.getElementById('login-password')
  function removeErrorClass() { this.removeAttribute('class')}
  //username.onfocus = function(e){ e.preventDefault(); }
  username.onblur = removeErrorClass
  password.onblur = removeErrorClass
  </script>
</div>
</body>
</html>
